/*
 * Numeric Stepper jQuery plugin v2.2
 *
 * Licensed under MIT:
 *
 * Copyright (c) Luciano Longo
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to permit
 * persons to whom the Software is furnished to do so, subject to the
 * following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
 * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
 * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
 * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
 * USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(e){e.fn.stepper=function(t){var n={horizontalDecrementClass:"stepper-button stepper-button-down",horizontalIncrementClass:"stepper-button stepper-button-up",horizontalWrapperClass:"stepper stepper-horizontal",verticalButtonClass:"stepper-button",verticalWrapperClass:"stepper stepper-vertical"},r={onStep:null,onWheel:null,onArrow:null,onButton:null,onKeyUp:null},a={allowArrows:!0,allowWheel:!0,arrowStep:1,decrementButton:"&#9866;",incrementButton:"&#10010;",layout:"vertical",limit:[null,null],precision:2,preventWheelAcceleration:!0,type:"int",ui:!0,wheelStep:1};return e(this).each(function(){var o=e(this),i=o.data();delete i.stepper;var l=e.extend({},a,n,r,t,i);if(!o.data("stepper")){o.stepper={limit:m,decimalRound:w,onStep:function(e){l.onStep=e},onWheel:function(e){l.onWheel=e},onArrow:function(e){l.onArrow=e},onButton:function(e){l.onButton=e},onKeyUp:function(e){l.onKeyUp=e}},o.data("stepper",o.stepper);var p="horizontal"==l.layout?e('<div class="'+l.horizontalWrapperClass+'"/>'):e('<div class="'+l.verticalWrapperClass+'"/>');if(p.insertAfter(o),o.appendTo(p),l.ui){if("horizontal"==l.layout){var s=e('<div class="'+l.horizontalDecrementClass+'"/>').insertBefore(o),u=e('<a href="javascript:">'+l.decrementButton+"</a>").appendTo(s),c=e('<div class="'+l.horizontalIncrementClass+'"/>').insertAfter(o),f=e('<a href="javascript:">'+l.incrementButton+"</a>").appendTo(c);p.css({"margin-top":o.css("margin-top"),"margin-left":o.css("margin-left"),"margin-bottom":o.css("margin-bottom"),"margin-right":s.outerWidth()+c.outerWidth()+parseInt(o.css("margin-right"))})}else{var v=e('<div class="'+l.verticalButtonClass+'"/>').appendTo(p);f=e('<a href="javascript:">'+l.incrementButton+"</a>").appendTo(v),u=e('<a href="javascript:">'+l.decrementButton+"</a>").appendTo(v);p.css({"margin-top":o.css("margin-top"),"margin-left":o.css("margin-left"),"margin-bottom":o.css("margin-bottom"),"margin-right":v.outerWidth()+parseInt(o.css("margin-right"))})}o.css("margin",0),f.mousedown(function(e){(e.preventDefault(),o.is(":disabled"))||h("Button",[d(l.arrowStep),!0])}),u.mousedown(function(e){(e.preventDefault(),o.is(":disabled"))||h("Button",[d(-l.arrowStep),!1])}),e(document).mouseup(function(){clearInterval(void 0)})}l.allowWheel&&p.bind("DOMMouseScroll mousewheel wheel",function(e){if(e.preventDefault(),!o.is(":disabled")){var t,n=e.originalEvent?e.originalEvent:e;if(t=n.wheelDelta?n.wheelDelta/120:n.detail?-n.detail/3:n.deltaY?-n.deltaY/3:0){l.preventWheelAcceleration&&(t=t<0?-1:1);var r=d(l.wheelStep*t);h("Wheel",[r,t>0])}}}),p.keypress(function(e){var t,n,r=e.which,a=o.val();if(l.allowArrows)switch(r){case 38:h("Arrow",[a=d(l.arrowStep),!0]);break;case 40:h("Arrow",[a=d(-l.arrowStep),!1])}(n=r)>36&&n<41||8==r||g(r)||46==r||35==r||13==r||36==r||((t=r)>47&&t<58)||9==r||e.preventDefault(),"float"==l.type&&g(r)&&-1!=a.indexOf(".")?e.preventDefault():"float"!=l.type&&g(r)&&e.preventDefault(),(a=parseFloat(a+String.fromCharCode(r)))!=m(a)&&e.preventDefault()}).keyup(function(e){h("KeyUp",[o.val()])})}function d(e){o.val()||o.val(0);var t=m(("int"==l.type?parseInt:parseFloat)(o.val())+e);return o.val(t),h("Step",[t,e>0]),t}function h(e,t){var n=l["on"+e];"function"==typeof n&&n.apply(o,t)}function m(e){var t=l.limit[0],n=l.limit[1];return null!==t&&e<t?e=t:null!==n&&e>n&&(e=n),"int"==l.type?e:w(e)}function w(e,t){void 0===t&&(t=l.precision);var n=Math.pow(10,t);return(Math.round(e*n)/n).toFixed(t)}function g(e){return 110==e||190==e}})}}(jQuery);
